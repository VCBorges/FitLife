{% extends 'core/_base.html' %}

{% block title %}
Login
{% endblock title %}

{% block content %}
<div class="container-fluid">
    <form 
        class="login-form-id" 
        action="{% url 'login' %}"
        data-errors-alert="#login-errors-alert"
        method="POST"
        novalidate
    >
        <div>
            <label for="login" class="primary-label">Your email</label>
            <input 
                type="text" 
                class="primary-input"
                placeholder="email"
                name="login"
                required
            >
            <div class="input-errors"></div>
        </div>
        <div>
            <label for="password" class="primary-label">Your password</label>
            <input 
                type="password" 
                class="primary-input"
                placeholder="Your password"
                name="password"
                required
            >    
            <div class="input-errors"></div>
        </div>
        <div>
            <button 
                type="submit"
                class="btn btn-primary"
            >Login</button>

            <a 
                type="button"
                href="{% url 'signup_template' %}" 
                class="btn btn-secondary"
            >Sign up</a>
        </div>
        <div 
            class="alert alert-danger form-alert d-none" 
            role="alert"
            id="login-errors-alert"
        ></div>
    </form>
</div>

{% endblock content %}


{% block js %}
<script>
    document.querySelector('.login-form-id').addEventListener('submit', async function(event) {
        handleFormSubmit({
            event
        })
    });
</script>
{% endblock js %}